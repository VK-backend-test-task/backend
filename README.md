# Backend

Я решил использовать Swagger для описания API, не только, потому что это привычно и удобно, а также потому что позволяет избавить себя от лишней работы и сгенерировать код для клиента (как я и поступил в сервисах frontend и pinger). Спецификация в api/openapi.yaml

Swagger UI я не заморочился поставить, использовал технику открыть https://editor.swagger.io и вставить туда openapi.yaml 

В качестве основной сущности в БД я решил использовать не контейнер с информацией о последнем пинге, а сам пинг, так как в этом случае можно извлечь не только саму информацию о контейнерах, а еще много полезной информации - например, аптайм контейнеров (доля успешных пингов).

Так как контейнеров ограниченное количество, а пингов гораздо больше, то в тот момент, когда текущей конфигурации начнет не хватать, можно ввести, например, дополнительную таблицу, где кешировать информацию о контейнерах и обновлять при каждом пинге.
А еще в этом случае можно будет периодически удалять старые пинги.

Также, написаны тесты для слоя Repository, с запуском настоящего Postgres в Docker, через сравнение с референсной in-memory реализацией. Проверяются все возможные комбинации параметров.

Запросы получения пингов и информации о контейнерах поддерживают пагинацию (параметры limit, offset). Сейчас я понял, что offset - плохое решение, так как списки часто меняются (несколько раз в минуту). Если вы читаете этот текст, то сейчас я работаю над ее улучшением, если захотите, можете зайти через день, и посмотреть, что получится.# Pinger Backend Service
